<!DOCTYPE html>
<html lang="zh-cmn-Hans" prefix="og: http://ogp.me/ns#" class="han-init">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <title>前端综合笔记（爱奇尔） &mdash; Cheney King</title>
    <link rel="stylesheet" href="http://localhost:5001/assets/vendor/primer-css/css/primer.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/vendor/primer-markdown/dist/user-content.min.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/vendor/octicons/octicons/octicons.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/css/components/collection.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/css/components/repo-card.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/css/sections/repo-list.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/css/sections/mini-repo-list.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/css/components/boxed-group.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/css/globals/common.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/vendor/share.js/dist/css/share.min.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/css/globals/responsive.css">
    <link rel="stylesheet" href="http://localhost:5001/assets/css/posts/index.css">
    <!-- Latest compiled and minified CSS -->
    

    
    <link rel="canonical" href="http://localhost:5001/2019/12/22/angle-aiqier/">
    <link rel="alternate" type="application/atom+xml" title="Cheney King" href="http://localhost:5001/feed.xml">
    <link rel="shortcut icon" href="http://localhost:5001/favicon.ico">
    
    <meta property="og:title" content="前端综合笔记（爱奇尔）">
      
    <meta name="keywords" content="HTML，JS，CSS，ERP，前端">
    <meta name="og:keywords" content="HTML，JS，CSS，ERP，前端">
      
    <meta name="description" content="这些是在搭建本博客之前，在爱奇尔工作时进行的一些总结，篇幅略长。">
    <meta name="og:description" content="这些是在搭建本博客之前，在爱奇尔工作时进行的一些总结，篇幅略长。">
      
    
    
        
    
    <meta property="og:url" content="http://localhost:5001/2019/12/22/angle-aiqier/">
    <meta property="og:site_name" content="Cheney King">
    <meta property="og:type" content="article">
    <meta property="og:locale" content="zh_CN" />
    
    <meta property="article:published_time" content="2019-12-22">
    
    <script src="http://localhost:5001/assets/vendor/jquery/dist/jquery.min.js"></script>
    <script src="http://localhost:5001/assets/js/jquery-ui.js"></script>
    <script src="http://localhost:5001/assets/js/main.js"></script>
</head>
<body class="" data-mz="">
    <header class="site-header">
        <div class="container">
            <h1><a href="http://localhost:5001/" title="Cheney King"><span class="octicon octicon-mark-github"></span> Cheney King</a></h1>
            <button class="collapsed mobile-visible" type="button" onclick="toggleMenu();">
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
              <span class="icon-bar"></span>
            </button>
            <nav class="site-header-nav" role="navigation">
                
                <a href="http://localhost:5001/" class=" site-header-nav-item" target="" title="首页">首页</a>
                
                <a href="http://localhost:5001/categories/" class=" site-header-nav-item" target="" title="分类">分类</a>
                
                <a href="http://localhost:5001/wiki/" class=" site-header-nav-item" target="" title="维基">维基</a>
                
                <a href="http://localhost:5001/links/" class=" site-header-nav-item" target="" title="链接">链接</a>
                
                <a href="http://localhost:5001/about/" class=" site-header-nav-item" target="" title="关于">关于</a>
                
            </nav>
        </div>
    </header>
    <!-- / header -->

    <section class="collection-head small geopattern" data-pattern-id="前端综合笔记（爱奇尔）">
<div class="container">
  <div class="columns">
    <div class="column three-fourths">
      <div class="collection-title">
        <h1 class="collection-header">前端综合笔记（爱奇尔）</h1>
        <div class="collection-info">
          
          <span class="meta-info">
            <span class="octicon octicon-calendar"></span> 2019/12/22
          </span>
          
          
          <span class="meta-info">
            <span class="octicon octicon-file-directory"></span>
            <a href="http://localhost:5001/categories/#Comprehensive" title="Comprehensive">Comprehensive</a>
          </span>
          
          <span style="color:#ededed;font-size: 14px">本文共10607字,阅读全文约需40分钟</span>
        </div>
      </div>
    </div>
  </div>
</div>
</section>
<!-- / .banner -->
<section class="container content">
<div class="columns">
  <div class="column three-fourths" >
    <article class="article-content markdown-body">
    <p>这些是在搭建本博客之前，在爱奇尔工作时进行的一些总结，篇幅略长。</p>

<h1 id="react-intl">React-intl</h1>
<ol>
  <li>后台没有，再去<strong>正式环境</strong>添加；一定在正式环境添加key；只添加中文；测试环境的由后端同步（李建龙）；</li>
  <li>登陆网站，请求接口获得messages数组；</li>
  <li>先写页面，实现功能，再进行国际化；</li>
  <li>问题：冗余key；代码中中文</li>
</ol>

<p>参考：<a href="https://www.cnblogs.com/qiaojie/p/6411199.html">React-intl 实现多语言</a></p>

<h1 id="erp项目">erp项目</h1>
<ol>
  <li>module:数据源，actions，initstate，reducer</li>
  <li>antd表格，表单</li>
  <li>后期任务：
    <ul>
      <li>后期做erp web app；antd-mobile；</li>
      <li>采购管理»采购订单，后期可能会改造；</li>
    </ul>
  </li>
  <li>菜单
    <ul>
      <li>菜单路径定义：aiqier-erp-admin-web/src/components/App/AppMenu.js</li>
      <li>菜单引用：aiqier-erp-admin-web/src/components/App/AppMainWrapper.js
        <ul>
          <li>AppLogo：左侧logo</li>
          <li>AppHeader：右侧头部</li>
          <li>this.renderAppMenus():菜单</li>
          <li>this.renderAppContent(pathname)：右侧内容</li>
          <li>Redirect to={temObject}</li>
          <li>Notification</li>
          <li>AnchorButton：scrollTop/scrollBottom</li>
        </ul>
      </li>
    </ul>
  </li>
  <li>项目操作
    <ol>
      <li>git命令
        <ul>
          <li>git remote -v</li>
          <li>git remote add root http://……git</li>
          <li>git remote -v</li>
          <li>git status</li>
          <li>git pull root master</li>
          <li>git branch -a</li>
          <li>git checkout – package.json</li>
          <li>git checkout –yarn.lock</li>
          <li>rm -rf package - lock.json</li>
          <li>rm -rf node_modules/</li>
          <li>yarn install</li>
          <li>git add .</li>
          <li>git commit -m’XXXXXX’</li>
          <li>git push</li>
          <li>git pull root master</li>
          <li>git log</li>
          <li>git push</li>
        </ul>
      </li>
      <li>项目部署
        <ul>
          <li>地址：webpack.XX.org(Jenkins)</li>
          <li>PR代码(yarn merge)</li>
          <li>yarn merge:root test</li>
          <li>yarn deploy (test)</li>
          <li>yarn merge:root prod</li>
          <li>yarn deploy prod</li>
        </ul>
      </li>
      <li>profile.json文件
        <div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">  </span><span class="p">{</span><span class="w">
  </span><span class="nl">"git"</span><span class="p">:</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"userName"</span><span class="p">:</span><span class="w"> </span><span class="s2">"个人账号"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXXXX"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"ci"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"j_username"</span><span class="p">:</span><span class="w"> </span><span class="s2">"公司名"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"j_password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"XXX"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>        </div>
      </li>
    </ol>
  </li>
</ol>

<h2 id="react-dropzone上传文件类型支持">react-dropzone上传文件类型支持：</h2>
<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>    <span class="o">&lt;</span><span class="nx">Dropzone</span>
        <span class="nx">onDrop</span><span class="o">=</span><span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">onDrop</span><span class="p">}</span>
        <span class="nx">accept</span><span class="o">=</span><span class="p">{</span><span class="dl">'</span><span class="s1">image/jpg, image/jpeg, image/png, image/gif, application/zip, </span><span class="dl">'</span> <span class="o">+</span>
        <span class="dl">'</span><span class="s1">application/x-rar-compressed, application/msword, application/pdf,</span><span class="dl">'</span> <span class="o">+</span>
        <span class="dl">'</span><span class="s1"> application/vnd.openxmlformats-officedocument.wordprocessingml.document,</span><span class="dl">'</span> <span class="o">+</span>
        <span class="dl">'</span><span class="s1"> application/vnd.openxmlformats-officedocument.spreadsheetml.sheet</span><span class="dl">'</span><span class="p">}</span>
        <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">_styles</span><span class="p">.</span><span class="nx">drop</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="o">&lt;</span><span class="nx">Icon</span>
        <span class="nx">type</span><span class="o">=</span><span class="dl">'</span><span class="s1">inbox</span><span class="dl">'</span>
        <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">_styles</span><span class="p">.</span><span class="nx">icon</span><span class="p">}</span> <span class="sr">/</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">p</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">_styles</span><span class="p">.</span><span class="nx">title</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="nx">Click</span> <span class="nx">or</span> <span class="nx">drag</span> <span class="nx">file</span> <span class="nx">to</span> <span class="k">this</span> <span class="nx">area</span> <span class="nx">to</span> <span class="nx">upload</span>
        <span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>        <span class="o">&lt;</span><span class="nx">p</span> <span class="nx">style</span><span class="o">=</span><span class="p">{</span><span class="nx">_styles</span><span class="p">.</span><span class="nx">message</span><span class="p">}</span><span class="o">&gt;</span>
        <span class="nx">Support</span> <span class="k">for</span> <span class="nx">a</span> <span class="nx">single</span> <span class="nx">or</span> <span class="nx">bulk</span> <span class="nx">upload</span><span class="p">.</span> <span class="nx">Strictly</span> <span class="nx">prohibit</span> <span class="k">from</span> <span class="nx">uploading</span> <span class="nx">company</span> <span class="nx">data</span> <span class="nx">or</span> <span class="nx">other</span> <span class="nx">band</span> <span class="nx">files</span>
        <span class="o">&lt;</span><span class="sr">/p</span><span class="err">&gt;
</span>    <span class="o">&lt;</span><span class="sr">/Dropzone</span><span class="err">&gt;
</span></code></pre></div></div>
<p>参考：
<a href="https://blog.csdn.net/xiaoranzhizhu/article/details/70473734">office 所有后缀对应的 content-type</a></p>

<p><a href="https://segmentfault.com/q/1010000008340434">为什么react的组件要super(props)</a>:</p>
<blockquote>
  <blockquote>
    <blockquote>
      <p>如果你用到了constructor就必须写super(),是用来初始化this的，可以绑定事件到this上;
如果你在constructor中要使用this.props,就必须给super加参数：super(props)；
（无论有没有constructor，在render中this.props都是可以使用的，这是React自动附带的；）
如果没用到constructor,是可以不写的,直接：</p>
      <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">class</span> <span class="nx">HelloMessage</span> <span class="kd">extends</span> <span class="nx">React</span><span class="p">.</span><span class="nx">Component</span><span class="p">{</span>
    <span class="nx">render</span> <span class="p">(){</span>
        <span class="k">return</span> <span class="p">(</span>
            <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">nice</span> <span class="nx">to</span> <span class="nx">meet</span> <span class="nx">you</span><span class="o">!</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span>        <span class="p">);</span>
    <span class="p">}</span>
<span class="p">}</span>
<span class="c1">//不过这种只是用render的情况，使用一般的ES6函数写会更简便：</span>
<span class="kd">const</span> <span class="nx">HelloMessage</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span><span class="o">=&gt;</span><span class="p">(</span>
    <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span><span class="nx">nice</span> <span class="nx">to</span> <span class="nx">meet</span> <span class="nx">you</span><span class="o">!</span> <span class="p">{</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">name</span><span class="p">}</span><span class="o">&lt;</span><span class="sr">/div</span><span class="err">&gt;
</span><span class="p">)</span>
</code></pre></div>      </div>
    </blockquote>
  </blockquote>
</blockquote>

<h1 id="工具插件库">工具/插件/库</h1>

<ol>
  <li>
    <p>树形展示GitHub项目代码Chrome插件：Octotree</p>
  </li>
  <li>
    <p>iterm配置文档参考：</p>
  </li>
</ol>

<p><a href="https://www.cnblogs.com/weixuqin/p/7029177.html">Mac下终端配置（item2 + oh-my-zsh + solarized配色方案）</a></p>

<ol>
  <li><a href="https://github.com/facebookincubator/idx">idx使用</a>:现在多使用’?.’写法(?.是一个整体，相当于一个运算符)，可以不使用idx。新的’？.’写法：<a href="https://babeljs.io/docs/en/babel-plugin-proposal-optional-chaining">@babel/plugin-proposal-optional-chaining</a> <br />
示例：
    <ol>
      <li>obj?.foo.bar?.baz</li>
      <li>obj?.[‘foo’]?.bar?.baz</li>
      <li>
        <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">function</span> <span class="nx">test</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">return</span> <span class="mi">42</span><span class="p">;</span>
 <span class="p">}</span>
 <span class="nx">test</span><span class="p">?.();</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>|| 和 ??区别
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="kd">let</span> <span class="nx">a</span> <span class="o">=</span> <span class="p">{</span> <span class="na">b</span><span class="p">:</span> <span class="p">{</span> <span class="na">c</span><span class="p">:</span> <span class="mi">0</span> <span class="p">}</span> <span class="p">}</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">?.</span><span class="nx">b</span><span class="p">?.</span><span class="nx">c</span> <span class="o">||</span> <span class="mi">33</span><span class="p">)</span> <span class="c1">// 33</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">?.</span><span class="nx">b</span><span class="p">?.</span><span class="nx">c</span> <span class="p">??</span> <span class="mi">33</span><span class="p">)</span> <span class="c1">// 0</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">?.</span><span class="nx">c</span><span class="p">?.</span><span class="nx">c</span> <span class="o">||</span> <span class="mi">22</span><span class="p">)</span> <span class="c1">// 22</span>
   <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">a</span><span class="p">?.</span><span class="nx">c</span><span class="p">?.</span><span class="nx">c</span> <span class="p">??</span> <span class="mi">22</span><span class="p">)</span> <span class="c1">// 22</span>
</code></pre></div>    </div>
    <p><a href="https://github.com/facebookincubator/idx/blob/master/packages/idx/src/idx.js">idx源码链接</a></p>
  </li>
</ol>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">function</span> <span class="nx">idx</span><span class="o">&lt;</span><span class="nx">Ti</span><span class="p">,</span> <span class="nx">Tv</span><span class="o">&gt;</span><span class="p">(</span><span class="nx">input</span><span class="p">:</span> <span class="nx">Ti</span><span class="p">,</span> <span class="nx">accessor</span><span class="p">:</span> <span class="p">(</span><span class="nx">input</span><span class="p">:</span> <span class="nx">Ti</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">Tv</span><span class="p">):</span> <span class="p">?</span><span class="nx">Tv</span> <span class="p">{</span>
    <span class="k">try</span> <span class="p">{</span>
      <span class="k">return</span> <span class="nx">accessor</span><span class="p">(</span><span class="nx">input</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">catch</span> <span class="p">(</span><span class="nx">error</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">if</span> <span class="p">(</span><span class="nx">error</span> <span class="k">instanceof</span> <span class="nx">TypeError</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="nx">nullPattern</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">error</span><span class="p">))</span> <span class="p">{</span>
          <span class="k">return</span> <span class="kc">null</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="nx">undefinedPattern</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">error</span><span class="p">))</span> <span class="p">{</span>
          <span class="k">return</span> <span class="kc">undefined</span><span class="p">;</span>
        <span class="p">}</span>
      <span class="p">}</span>
      <span class="k">throw</span> <span class="nx">error</span><span class="p">;</span>
    <span class="p">}</span>
  <span class="p">}</span>
  <span class="kd">const</span> <span class="nx">nullPattern</span> <span class="o">=</span> <span class="sr">/^null | null$|^</span><span class="se">[^</span><span class="sr">(</span><span class="se">]</span><span class="sr">* null /i</span><span class="p">;</span>
  <span class="kd">const</span> <span class="nx">undefinedPattern</span> <span class="o">=</span> <span class="sr">/^undefined | undefined$|^</span><span class="se">[^</span><span class="sr">(</span><span class="se">]</span><span class="sr">* undefined /i</span><span class="p">;</span>
  <span class="nx">idx</span><span class="p">.</span><span class="k">default</span> <span class="o">=</span> <span class="nx">idx</span><span class="p">;</span>
  <span class="nx">module</span><span class="p">.</span><span class="nx">exports</span> <span class="o">=</span> <span class="nx">idx</span><span class="p">;</span>
</code></pre></div></div>

<ol>
  <li>
    <p><a href="https://github.com/pd4d10/console-importer"> console-importer</a>:在在 Dev Tools 里面来使用 npm 插件！</p>
  </li>
  <li><a href="https://www.lodashjs.com/"> Lodash-文档</a>
    <ol>
      <li>omit 忽略值：
        <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">object</span> <span class="o">=</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span> <span class="dl">'</span><span class="s1">b</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">2</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">:</span> <span class="mi">3</span> <span class="p">};</span>   
  <span class="nx">_</span><span class="p">.</span><span class="nx">omit</span><span class="p">(</span><span class="nx">object</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">a</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">c</span><span class="dl">'</span><span class="p">]);</span>   
  <span class="c1">// =&gt; { 'b': '2' }</span>
</code></pre></div>        </div>
      </li>
    </ol>
  </li>
  <li>curl
    <blockquote>
      <blockquote>
        <blockquote>
          <p>百科：cURL是一个利用URL语法在命令行下工作的文件传输工具，1997年首次发行。它支持文件上传和下载，所以是综合传输工具，但按传统，习惯称cURL为下载工具。cURL还包含了用于程序开发的libcurl。</p>
        </blockquote>
      </blockquote>
    </blockquote>
    <ol>
      <li><a href="https://www.jianshu.com/p/f05bbd5007d9">curl 的使用</a></li>
      <li><a href="https://blog.csdn.net/chenliaoyuanjv/article/details/79689028">Linux 命令行：cURL 的十种常见用法</a></li>
      <li><a href="https://www.jianshu.com/p/07c4dddae43a">curl 命令详解</a></li>
    </ol>
  </li>
  <li>
    <p><a href="http://react-dnd.github.io/react-dnd/about">React DnD</a></p>
  </li>
  <li>
    <p><a href="http://momentjs.cn/docs/">Moment.js 文档</a></p>
  </li>
  <li>
    <p><a href="https://cassetterocks.github.io/react-infinite-scroller/">React Infinite Scroller</a></p>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><a href="https://www.dropzonejs.com/#">DropzoneJS</a></td>
          <td><a href="https://motion.ant.design/index-cn">Ant Motion </a></td>
          <td><a href="https://alvarotrigo.com/fullPage/">fullPage全屏滚动</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <p><a href="http://lesscss.cn/">Less 中文网</a></p>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><a href="http://www.typescriptlang.org/index.html">TypeScript英文文档</a></td>
          <td><a href="https://www.tslang.cn/index.html">中文</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><a href="http://nextjs.frontendx.cn/">Next.js文档</a></td>
          <td><a href="https://nextjs.org/">Next.js英文文档</a>(React)</td>
          <td><a href="https://umijs.org/zh/">UmiJS</a></td>
          <td><a href="https://zh.nuxtjs.org/">NuxtJS</a>(Vue)</td>
        </tr>
      </tbody>
    </table>
  </li>
</ol>

<h1 id="技巧技法">技巧技法</h1>
<h2 id="git">git</h2>
<ol>
  <li>已提交过的代码，被删除，git status会是绿色，相当于已经add过了，会被下一次commit和push带着自动提交远程</li>
  <li>Git文件名大小写敏感:
    <ul>
      <li>问题：本地代码运行ok，但是发现push上去的代码运行后报错，发现有个文件没注意大小写，于是重命名了该文件，发现git没有识别这个更改，不能提交</li>
      <li>查看git 的设置:git config –get core.ignorecase</li>
      <li>git默认是不区分大小的，因此当你修改了文件名的大小写后，git并不会认为你有修改</li>
      <li>更改设置解决:git config core.ignorecase false
        <h2 id="js">JS</h2>
      </li>
    </ul>
  </li>
  <li><a href="https://blog.csdn.net/qq_38627581/article/details/77353015">js判断对象是否为空对象的几种方法</a></li>
  <li>
    <table>
      <tbody>
        <tr>
          <td><a href="http://nodejs.cn/api/synopsis.html">Node.js 中文文档</a></td>
          <td><a href="https://nodejs.org/en/docs/">Node.js 英文文档</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li>函数防抖运用:
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">A</span><span class="p">.</span><span class="nx">js</span>
<span class="c1">// 防抖实现</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">debounce</span> <span class="o">=</span> <span class="p">(</span><span class="nx">method</span><span class="p">,</span> <span class="nx">wait</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">timeout</span>
  <span class="c1">// args为返回函数调用时传入的参数，传给method</span>
  <span class="k">return</span> <span class="kd">function</span> <span class="p">(...</span><span class="nx">args</span><span class="p">)</span> <span class="p">{</span>
 <span class="kd">let</span> <span class="nx">context</span> <span class="o">=</span> <span class="k">this</span>
 <span class="k">if</span> <span class="p">(</span><span class="nx">timeout</span><span class="p">)</span> <span class="p">{</span>
   <span class="nx">clearTimeout</span><span class="p">(</span><span class="nx">timeout</span><span class="p">)</span>
 <span class="p">}</span>
 <span class="nx">timeout</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="c1">// args是一个类数组，所以使用fn.apply</span>
   <span class="c1">// 也可写作method.call(context, ...args)</span>
   <span class="nx">method</span><span class="p">.</span><span class="nx">apply</span><span class="p">(</span><span class="nx">context</span><span class="p">,</span> <span class="nx">args</span><span class="p">)</span>
 <span class="p">},</span> <span class="nx">wait</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">}</span>
</code></pre></div>    </div>
    <hr />
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">B</span><span class="p">.</span><span class="nx">js</span>
<span class="c1">//调用：</span>
<span class="k">import</span> <span class="p">{</span> <span class="nx">debounce</span> <span class="p">}</span> <span class="k">from</span> <span class="nx">A</span><span class="p">;</span>
<span class="nx">debouncedFn</span> <span class="o">=</span> <span class="nx">debounce</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">getProductItems</span><span class="p">,</span> <span class="mi">500</span><span class="p">)</span>
<span class="c1">//实际使用：</span>
<span class="k">this</span><span class="p">.</span><span class="nx">debouncedFn</span><span class="p">(</span><span class="nx">data</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>react如何产生随机不重复的key
    <ul>
      <li><code class="language-plaintext highlighter-rouge">&lt;div key={+new Date() + Math.random()}&gt;</code></li>
      <li>使用数组的索引</li>
      <li>使用uuid：https://www.npmjs.com/package/uuid</li>
      <li>使用uniqid：https://www.npmjs.com/package/uniqid</li>
      <li>Date.now()</li>
    </ul>
  </li>
  <li>PureComponent使用(以选择框为例)
    <ul>
      <li>使用PureComponent，父组件传递的props不能全是对象和不变的量，否则会导致一直不更新(如果渲染用的checked来自对象，也应该传一个每次切换会变化为true和false的checked，即便不直接使用)</li>
      <li>直接使用shouldComponentUpdate，nextProps和this.props进行对比的属性也不能来自对象(例如：return nextProps.item.checked !== this.props.item.checked，也会导致不更新)</li>
      <li>函数组件:React.memo(…)是React v16.6引进来的新属性。它的作用和React.PureComponent类似，是用来控制函数组件的重新渲染的。React.memo(…) 其实就是函数组件的React.PureComponent。
        <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">let</span> <span class="nx">TestC</span> <span class="o">=</span> <span class="p">(</span><span class="nx">props</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="k">return</span> <span class="p">(</span> 
       <span class="o">&lt;</span><span class="nx">div</span><span class="o">&gt;</span>
       <span class="p">{</span> <span class="nx">props</span><span class="p">.</span><span class="nx">count</span> <span class="p">}</span>
       <span class="o">&lt;</span><span class="sr">/</span><span class="err">&gt;
</span>   <span class="p">)</span>
 <span class="p">}</span>
 <span class="nx">TestC</span> <span class="o">=</span> <span class="nx">React</span><span class="p">.</span><span class="nx">memo</span><span class="p">(</span><span class="nx">TestC</span><span class="p">);</span>
</code></pre></div>        </div>
        <div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   - PureComponent减少ES6的类组件的无用渲染;React.memo(...)减少函数组件的无用渲染
   - 参考阅读
</code></pre></div>        </div>
        <ul>
          <li><a href="https://reactjs.org/blog/2018/10/23/react-v-16-6.html">React v16.6.0: lazy, memo and contextType</a></li>
          <li><a href="http://www.ptbird.cn/react-lazy-suspense-error-boundaries.html">react v16.6 动态 import，React.lazy()、Suspense、Error boundaries</a></li>
          <li><a href="http://react-china.org/t/react-memo-lazy-suspense-hooks/28789">React新特性实例详解（memo、lazy、suspense、hooks）</a></li>
        </ul>
      </li>
    </ul>
  </li>
  <li>Modal.confirm的onOk，可以把this传进去，也可以写箭头函数
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nx">Modal</span><span class="p">.</span><span class="nx">confirm</span><span class="p">({</span>
   <span class="na">title</span><span class="p">:</span> <span class="nx">messages</span><span class="p">[</span><span class="dl">'</span><span class="s1">common_0005</span><span class="dl">'</span><span class="p">],</span>
   <span class="na">content</span><span class="p">:</span> <span class="nx">messages</span><span class="p">[</span><span class="dl">'</span><span class="s1">prod_br_0008</span><span class="dl">'</span><span class="p">],</span>
   <span class="nx">onOk</span> <span class="p">()</span> <span class="p">{</span>
     <span class="nx">_this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">method</span><span class="p">()</span>
   <span class="p">},</span>
   <span class="c">&lt;!--</span> <span class="na">onOk</span><span class="p">:</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">method</span><span class="p">()</span>
   <span class="p">},</span> <span class="o">--&gt;</span>
   <span class="nx">onCancel</span> <span class="p">()</span> <span class="p">{</span>
   <span class="p">}</span>
 <span class="p">})</span>
</code></pre></div>    </div>
  </li>
  <li>后端返回的 { responseType: ‘blob’ }数据，需要用react-file-download转化;
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="nx">FileDownload</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">react-file-download</span><span class="dl">'</span>
 <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">actions</span><span class="p">.</span><span class="nx">downloadPictures</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">selectedIds</span><span class="p">).</span><span class="nx">then</span><span class="p">((</span><span class="nx">res</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
   <span class="c1">// 不能加if(res.data.success)的判断，因为返回的数据是blob，找不到res.data.success</span>
   <span class="nx">FileDownload</span><span class="p">(</span><span class="nx">res</span><span class="p">.</span><span class="nx">data</span><span class="p">,</span> <span class="dl">'</span><span class="s1">images.zip</span><span class="dl">'</span><span class="p">)</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">cancelSelected</span><span class="p">()</span>
 <span class="p">})</span>
</code></pre></div>    </div>
    <p>下载文件时，很可能需要写responseType,否则可能打不开文件：</p>
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">axios</span><span class="p">.</span><span class="nx">put</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">url</span> <span class="o">+</span> <span class="dl">'</span><span class="s1">/zip</span><span class="dl">'</span><span class="p">,</span> <span class="nx">data</span><span class="p">,</span> <span class="p">{</span>
 <span class="na">responseType</span><span class="p">:</span> <span class="dl">'</span><span class="s1">blob</span><span class="dl">'</span><span class="p">,</span>
 <span class="na">headers</span><span class="p">:</span> <span class="p">{</span> <span class="dl">'</span><span class="s1">x-access-token</span><span class="dl">'</span><span class="p">:</span> <span class="nx">localStorage</span><span class="p">.</span><span class="nx">token</span> <span class="p">}</span>
  <span class="p">})</span>
</code></pre></div>    </div>
    <p>上传文件：</p>
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">onDrop</span> <span class="o">=</span> <span class="p">(</span><span class="nx">accepted</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
 <span class="k">this</span><span class="p">.</span><span class="nx">setState</span><span class="p">({</span>
   <span class="na">fileName</span><span class="p">:</span> <span class="nx">accepted</span><span class="p">[</span><span class="mi">0</span><span class="p">].</span><span class="nx">name</span><span class="p">,</span>
   <span class="na">file</span><span class="p">:</span> <span class="nx">accepted</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
 <span class="p">}</span>
<span class="p">}</span>
<span class="kd">const</span> <span class="nx">uploadFile</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">FormData</span><span class="p">()</span>
<span class="nx">uploadFile</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="dl">'</span><span class="s1">file</span><span class="dl">'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">state</span><span class="p">.</span><span class="nx">file</span><span class="p">)</span>
<span class="k">this</span><span class="p">.</span><span class="nx">props</span><span class="p">.</span><span class="nx">actions</span><span class="p">.</span><span class="nx">uploadCalcExcel</span><span class="p">(</span><span class="nx">uploadFile</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>Fetch请求可以直接在控制台调用
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="kd">let</span> <span class="nx">content</span> <span class="o">=</span> <span class="p">{</span><span class="na">some</span><span class="p">:</span> <span class="dl">'</span><span class="s1">content</span><span class="dl">'</span><span class="p">}</span>
 <span class="c1">// Post request with fetch</span>
 <span class="nx">fetch</span><span class="p">(</span><span class="dl">'</span><span class="s1">some-url</span><span class="dl">'</span><span class="p">,</span> <span class="p">{</span>
   <span class="na">method</span><span class="p">:</span> <span class="dl">'</span><span class="s1">post</span><span class="dl">'</span><span class="p">,</span>
   <span class="na">headers</span><span class="p">:</span> <span class="p">{</span><span class="dl">'</span><span class="s1">Content-Type</span><span class="dl">'</span><span class="p">:</span> <span class="dl">'</span><span class="s1">application/json</span><span class="dl">'</span><span class="p">}</span>
   <span class="nl">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nx">stringify</span><span class="p">(</span><span class="nx">content</span><span class="p">)</span>
 <span class="p">}).</span><span class="nx">then</span><span class="p">(</span><span class="nx">status</span><span class="p">)</span>
 <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="nx">json</span><span class="p">)</span>
 <span class="p">.</span><span class="nx">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">data</span><span class="p">){</span>
     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">请求成功，JSON解析后的响应数据为:</span><span class="dl">"</span><span class="p">,</span><span class="nx">data</span><span class="p">);</span>
 <span class="p">})</span>
 <span class="p">.</span><span class="k">catch</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">err</span><span class="p">){</span>
     <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="dl">"</span><span class="s2">Fetch错误:</span><span class="dl">"</span><span class="o">+</span><span class="nx">err</span><span class="p">);</span>
 <span class="p">});</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><a href="https://www.jianshu.com/p/32bef36a68a0">Element.scrollIntoView() 方法让当前的元素滚动到浏览器窗口的可视区域内</a></p>
  </li>
  <li>
    <p><a href="https://blog.csdn.net/qq_35087256/article/details/84963644">next.js中的window is not defined</a>:next.js文档中提供了一种动态导入模块的办法’next/dynamic’</p>
  </li>
  <li>url-loader和file-loader
    <ul>
      <li>url-loader依赖file-loader</li>
      <li>当使用url-loader加载图片，图片大小小于上限值，则将图片转base64字符串；否则使用file-loader加载图片，都是为了提高浏览器加载图片速度。</li>
      <li>使用url-loader加载图片比file-loader更优秀</li>
    </ul>
  </li>
  <li>
    <p><a href="https://blog.csdn.net/u011500781/article/details/52896368">js实现窗口全屏示例</a>:无URL、导航栏等</p>
  </li>
  <li>
    <p><a href="https://bbs.aliyun.com/read/541396.html">如何实现图片缩放?</a>:将图片按照要求生成缩略图，或者进行特定的缩放(阿里云)</p>
  </li>
  <li>
    <table>
      <tbody>
        <tr>
          <td>数字分割：<a href="https://blog.csdn.net/spicyboiledfish/article/details/77776357">JavaScript之如何让数字千位分割</a></td>
          <td><a href="https://blog.csdn.net/evangel_z/article/details/12839657">JS 数字，金额 用逗号 隔开</a></td>
        </tr>
      </tbody>
    </table>
  </li>
  <li><a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/arguments">arguments对象</a>:
    <blockquote>
      <blockquote>
        <blockquote>
          <p>arguments对象不是一个 Array 。它类似于Array，但除了length属性和索引元素之外没有任何Array属性。例如，它没有 pop 方法。但是它可以被转换为一个真正的Array：</p>
          <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
<span class="kd">var</span> <span class="nx">args</span> <span class="o">=</span> <span class="p">[].</span><span class="nx">slice</span><span class="p">.</span><span class="nx">call</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
<span class="c1">// ES2015</span>
<span class="kd">const</span> <span class="nx">args</span> <span class="o">=</span> <span class="nb">Array</span><span class="p">.</span><span class="k">from</span><span class="p">(</span><span class="nx">arguments</span><span class="p">);</span>
<span class="kd">const</span> <span class="nx">args</span> <span class="o">=</span> <span class="p">[...</span><span class="nx">arguments</span><span class="p">];</span>
</code></pre></div>          </div>
        </blockquote>
      </blockquote>
    </blockquote>
  </li>
  <li>momentJS问题：
    <ul>
      <li><a href="https://blog.csdn.net/ASZJBGD/article/details/85252658">东八区问题 moment().format() 有时间差</a></li>
      <li><a href="https://blog.csdn.net/littlebearGreat/article/details/80996346">解决Moment格式化时间出现时区差的问题</a></li>
      <li>使用moment.js 获取当前时间往前的时间
        <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nx">moment</span><span class="p">().</span><span class="nx">format</span><span class="p">(</span><span class="dl">"</span><span class="s2">YYYY-MM-DD HH:mm:ss</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//当前时间</span>
  <span class="nx">moment</span><span class="p">().</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="dl">"</span><span class="s2">days</span><span class="dl">"</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="dl">"</span><span class="s2">YYYY-MM-DD</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//当前时间的前10天时间</span>
  <span class="nx">moment</span><span class="p">().</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="dl">"</span><span class="s2">years</span><span class="dl">"</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="dl">"</span><span class="s2">YYYY-MM-DD</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//当前时间的前1年时间</span>
  <span class="nx">moment</span><span class="p">().</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="dl">"</span><span class="s2">months</span><span class="dl">"</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="dl">"</span><span class="s2">YYYY-MM-DD</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//当前时间的前3个月时间</span>
  <span class="nx">moment</span><span class="p">().</span><span class="nx">subtract</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="dl">"</span><span class="s2">weeks</span><span class="dl">"</span><span class="p">).</span><span class="nx">format</span><span class="p">(</span><span class="dl">"</span><span class="s2">YYYY-MM-DD</span><span class="dl">"</span><span class="p">);</span> <span class="c1">//当前时间的前一个星期时间</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>url出现了有+，空格，/，?，%，#，&amp;，=等特殊符号的时候，可能在服务器端无法获得正确的参数值（当参数中含有”#”这些等对于URI而言有着特殊含义的符号时，发现“#”字符后面的信息全被裁掉了）:
    <ul>
      <li>在拼接参数的时候，使用 encodeURIComponent() 进行手动转义：
        <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="kd">var</span> <span class="nx">url</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">xxx?name=</span><span class="dl">"</span> <span class="o">+</span> <span class="nb">encodeURIComponent</span><span class="p">(</span> <span class="dl">"</span><span class="s2">wz#aa</span><span class="dl">"</span> <span class="p">);</span>
</code></pre></div>        </div>
      </li>
      <li>用其他字符替换，如：
    <code class="language-plaintext highlighter-rouge">js
 var str = '少林寺3#101';
 var result = str.replace(/#/g, '%23');
   </code></li>
    </ul>
  </li>
  <li>
    <p>antD Form组件中，Form.Item中有带htmlType=’submit’属性的Button时，会导致在Form中回车提交表单，删除htmlType=’submit’，然后给Button加一个提交的onClick事件即可；</p>
  </li>
  <li>JS中为什么[‘1’,’7’,’11’].map(parseInt)返回[1,NaN,3]?
    <ul>
      <li>map返回3个参数，item，index，Array，所以[1,7,11].map(console.log)打印：
        <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="mi">1</span> <span class="mi">0</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="err"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
  <span class="mi">7</span> <span class="mi">1</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="err"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
  <span class="mi">11</span> <span class="mi">2</span> <span class="p">(</span><span class="mi">3</span><span class="p">)</span><span class="err"> </span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">11</span><span class="p">]</span>
</code></pre></div>        </div>
      </li>
      <li>parseInt接受两个参数：string，radix，其中radix默认为10；每次调用parseInt，相当于：parseInt(item,index,Array),map传递的第三个参数Array会被忽略,index为0时取默认值10；parseInt(7,1)中，7在1进制中不存在。
        <blockquote>
          <p>参考：<a href="https://mp.weixin.qq.com/s/h-hxPt1yN2shq-Dkq6S3dA">JS 中为啥 [‘1’, ‘7’, ‘11’].map(parseInt) 返回 [1, NaN, 3]</a></p>
        </blockquote>
      </li>
    </ul>
  </li>
  <li>
    <p><a href="https://www.jianshu.com/p/4f07ef18b5d7">MessageChannel是什么，怎么使用？</a>：MessageChannel的postMessage传递的数据也是深拷贝的，这和web worker的postMessage一样，而且还可以拷贝undefined和循环引用的对象,如下所示： <br />
MessageChannel创建了一个通信的管道，这个管道有两个端口，每个端口都可以通过postMessage发送数据，而一个端口只要绑定了onmessage回调方法，就可以接收从另一个端口传过来的数据。</p>

    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nx">structuralClone</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span> <span class="p">{</span>
  <span class="k">return</span> <span class="k">new</span> <span class="nb">Promise</span><span class="p">(</span><span class="nx">resolve</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">const</span> <span class="p">{</span> <span class="nx">port1</span><span class="p">,</span> <span class="nx">port2</span> <span class="p">}</span> <span class="o">=</span> <span class="k">new</span> <span class="nx">MessageChannel</span><span class="p">()</span>
    <span class="nx">port2</span><span class="p">.</span><span class="nx">onmessage</span> <span class="o">=</span> <span class="nx">ev</span> <span class="o">=&gt;</span> <span class="nx">resolve</span><span class="p">(</span><span class="nx">ev</span><span class="p">.</span><span class="nx">data</span><span class="p">)</span>
    <span class="nx">port1</span><span class="p">.</span><span class="nx">postMessage</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
  <span class="p">})</span>
<span class="p">}</span>

<span class="kd">var</span> <span class="nx">obj</span> <span class="o">=</span> <span class="p">{</span>
  <span class="na">a</span><span class="p">:</span> <span class="mi">1</span><span class="p">,</span>
  <span class="na">b</span><span class="p">:</span> <span class="p">{</span>
    <span class="na">c</span><span class="p">:</span> <span class="mi">2</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nx">obj</span><span class="p">.</span><span class="nx">b</span><span class="p">.</span><span class="nx">d</span> <span class="o">=</span> <span class="nx">obj</span><span class="p">.</span><span class="nx">b</span>

<span class="c1">// 注意该方法是异步的</span>
<span class="c1">// 可以处理 undefined 和循环引用对象</span>
<span class="kd">const</span> <span class="nx">test</span> <span class="o">=</span> <span class="k">async</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">const</span> <span class="nx">clone</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">structuralClone</span><span class="p">(</span><span class="nx">obj</span><span class="p">)</span>
  <span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="nx">clone</span><span class="p">)</span>
<span class="p">}</span>
<span class="nx">test</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
  <li>个人博客相关
    <ul>
      <li><a href="https://www.jianshu.com/p/656e6101bf0f" target="_blank">在个人博客里添加评论系统–Gitalk</a></li>
      <li>引入图片的方式
        <ul>
          <li>GitHub图片：需要在路径分支前加blob，图片后缀后加?raw=true（关键词百度）</li>
          <li>相对路径(liquid语法：使用站点url与基地目录（site.url与site.baseurl）)：{ {site.url} }{ {site.baseurl} }/images/posts/XXX/XX.png?raw=true</li>
          <li>Markdown超链接在新窗口打开：
            <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="p">[</span><span class="nx">example</span><span class="p">](</span><span class="nx">https</span><span class="p">:</span><span class="c1">//king-hcj.github.io){:target='_blank'}</span>
</code></pre></div>            </div>
          </li>
        </ul>
      </li>
    </ul>
  </li>
  <li>在A节点的兄弟节点B的n级后代节点中触发A节点DOM上的click事件（如果要传参数，可以引入sessionStorage或者localStorage）：
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">document</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="dl">'</span><span class="s1">Tools_FBA_Calculator</span><span class="dl">'</span><span class="p">).</span><span class="nx">click</span><span class="p">()</span>
</code></pre></div>    </div>
  </li>
  <li>跨平台桌面应用：
    <ul>
      <li><a href="https://electronjs.org/" target="_blank">Electron</a></li>
      <li><a href="https://github.com/revery-ui/revery" target="_blank">revery</a></li>
      <li><a href="https://github.com/nodegui/nodegui" target="_blank">nodegui</a></li>
    </ul>
  </li>
  <li>flex布局设置子元素换行：
    <div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code>  <span class="nc">.container</span> <span class="p">{</span>
<span class="nl">display</span><span class="p">:</span> <span class="n">flex</span><span class="p">;</span>
<span class="nl">flex-wrap</span><span class="p">:</span> <span class="n">wrap</span><span class="p">;</span>
  <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="html">HTML</h2>

<h2 id="css">CSS</h2>
<ol>
  <li><a href="https://www.zhangxinxu.com/wordpress/2018/12/css-position-sticky/">position: sticky粘性定位</a>:除了文章介绍的之外，左右布局，左sticky时，左边还要设置高度才可生效(如：100vh)
    <div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="err">示例代码：</span>
 <span class="nc">.left-container</span> <span class="p">{</span>
   <span class="nl">width</span><span class="p">:</span> <span class="m">200px</span><span class="p">;</span>
   <span class="nl">height</span><span class="p">:</span> <span class="m">100vh</span><span class="p">;</span>
   <span class="nl">position</span><span class="p">:</span> <span class="n">sticky</span><span class="p">;</span>
   <span class="nl">top</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
   <span class="nl">bottom</span><span class="p">:</span> <span class="m">0</span><span class="p">;</span>
   <span class="nl">background-color</span><span class="p">:</span> <span class="mh">#ffffff</span><span class="p">;</span>
   <span class="nl">border-right</span><span class="p">:</span> <span class="nb">solid</span> <span class="m">1px</span> <span class="nf">rgb</span><span class="p">(</span><span class="m">233</span><span class="o">,</span> <span class="m">233</span><span class="o">,</span> <span class="m">233</span><span class="p">);</span>
   <span class="nl">overflow</span><span class="p">:</span> <span class="nb">auto</span><span class="p">;</span>
 <span class="p">}</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><a href="https://www.cnblogs.com/benbendu/p/5811534.html">【CSS深入理解之z-index】听课总结</a></p>
  </li>
  <li><a href="https://www.jianshu.com/p/27bb9a9d4f03">ant design Tooltip文字提示的样式设置</a>
    <ul>
      <li>可以通过设置mouseLeaveDelay控制Tooltip在页面的时间，然后chrome就可以查看元素了；</li>
      <li>直接用  ant-tooltip-  在页面并无法修改它的样式；</li>
      <li>通过自定义的类名以及类名下的标签就可以修改其样式,如下所示:
(先给Tooltip添加一个overlayClassName={styles[‘tooltip-custom’]})
<img src="http://localhost:5001/images/posts/comprehensive/tooltip.png?raw=true" alt="ant design Tooltip文字提示的样式设置" /> <br />
例： tooltip 黑色背景改成白色不透明
        <div class="language-scss highlighter-rouge"><div class="highlight"><pre class="highlight"><code>   <span class="nc">.tooltip-custom</span> <span class="p">{</span>
     <span class="nt">div</span> <span class="p">{</span>
       <span class="nt">div</span> <span class="p">{</span>
         <span class="k">&amp;</span><span class="nd">:first-child</span> <span class="p">{</span>
           <span class="nl">display</span><span class="p">:</span> <span class="nb">none</span><span class="p">;</span>
         <span class="p">}</span>
        
         <span class="k">&amp;</span><span class="nd">:last-child</span> <span class="p">{</span>
           <span class="nl">padding</span><span class="p">:</span> <span class="m">0px</span><span class="p">;</span>
           <span class="nl">background-color</span><span class="p">:</span> <span class="nf">rgba</span><span class="p">(</span><span class="m">255</span><span class="o">,</span> <span class="m">255</span><span class="o">,</span> <span class="m">255</span><span class="o">,</span> <span class="m">1</span><span class="p">);</span>
         <span class="p">}</span>
       <span class="p">}</span>
     <span class="p">}</span>
   <span class="p">}</span>
</code></pre></div>        </div>
      </li>
    </ul>
  </li>
  <li>React行内calc的使用：
    <div class="language-js highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">style</span><span class="o">=</span><span class="p">{</span> <span class="p">{</span> <span class="na">width</span><span class="p">:</span> <span class="dl">'</span><span class="s1">calc(100% - 80px)</span><span class="dl">'</span> <span class="p">}</span> <span class="p">}</span>
</code></pre></div>    </div>
  </li>
</ol>

<h2 id="其他">其他</h2>
<ol>
  <li><a href="https://blog.csdn.net/u013044310/article/details/80444695">Chrome浏览器百度云倍速播放</a>：
    <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nx">videojs</span><span class="p">.</span><span class="nx">getPlayers</span><span class="p">(</span><span class="dl">"</span><span class="s2">video-player</span><span class="dl">"</span><span class="p">).</span><span class="nx">html5player</span><span class="p">.</span><span class="nx">tech_</span><span class="p">.</span><span class="nx">setPlaybackRate</span><span class="p">(</span><span class="mf">1.5</span><span class="p">)</span>
</code></pre></div>    </div>
  </li>
  <li>
    <p><a href="https://github.com/syhyz1990/baiduyun">百度网盘直链下载助手</a>(亲测有效)</p>
  </li>
  <li>
    <p><a href="https://www.runningcheese.com/baiduyun">3个方法解决百度网盘限速 （2019-07-04 更新）</a></p>
  </li>
  <li>查看整个项目的代码行数
    <ul>
      <li>打开终端，用cd命令定位到工程所在的目录，然后调用以下命名即可把每个源代码文件行数及总数统计出来(适用于前端项目，只要改文件后缀即可)：
        <div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code> <span class="nx">find</span> <span class="p">.</span> <span class="dl">"</span><span class="s2">(</span><span class="dl">"</span> <span class="o">-</span><span class="nx">name</span> <span class="dl">"</span><span class="s2">*.m</span><span class="dl">"</span> <span class="o">-</span><span class="nx">or</span> <span class="o">-</span><span class="nx">name</span> <span class="dl">"</span><span class="s2">*.mm</span><span class="dl">"</span> <span class="o">-</span><span class="nx">or</span> <span class="o">-</span><span class="nx">name</span> <span class="dl">"</span><span class="s2">*.cpp</span><span class="dl">"</span> <span class="o">-</span><span class="nx">or</span> <span class="o">-</span><span class="nx">name</span> <span class="dl">"</span><span class="s2">*.h</span><span class="dl">"</span> <span class="o">-</span><span class="nx">or</span> <span class="o">-</span><span class="nx">name</span> <span class="dl">"</span><span class="s2">*.rss</span><span class="dl">"</span> <span class="dl">"</span><span class="s2">)</span><span class="dl">"</span> <span class="o">-</span><span class="nx">print</span> <span class="o">|</span> <span class="nx">xargs</span> <span class="nx">wc</span> <span class="o">-</span><span class="nx">l</span>
</code></pre></div>        </div>
        <h1 id="代码规范规约">代码规范/规约</h1>
      </li>
    </ul>
  </li>
  <li><a href="https://editorconfig.org/">EditorConfig</a>: 当多人团队进行一个项目开发时，每个人可能喜欢的编辑器不同，有人喜欢Webstrom、有人喜欢sublime、还有人喜欢Hbuilder。这个时候，问题便迎面而来，如何使使用不同编辑器的开发者能够轻松惬意的遵守最基本的代码规范呢？ <br />
EditorConfig helps maintain consistent coding styles for multiple developers working on the same project across various editors and IDEs.</li>
  <li><a href="https://cn.eslint.org/">ESLint</a>+<a href="https://prettier.io/">Prettier</a></li>
</ol>

<h1 id="个人学习规划学习视频书籍目录整理">个人学习规划/学习视频书籍目录整理</h1>
<h2 id="通用课程数据结构算法网络">通用课程(数据结构、算法、网络)</h2>
<ol>
  <li><a href="https://coding.imooc.com/class/154.html">快速上手Linux 玩转典型应用</a></li>
  <li><a href="https://class.imooc.com/newjava">慕课Java就业班</a></li>
  <li><a href="https://coding.imooc.com/class/260.html">专为程序员设计的线性代数课程</a></li>
  <li><a href="https://coding.imooc.com/class/71.html">学习算法思想 修炼编程内功</a></li>
  <li><a href="https://coding.imooc.com/class/207.html">玩转数据结构 从入门到进阶</a></li>
  <li><a href="https://coding.imooc.com/class/82.html">玩转算法面试 从真题到思维全面提升算法思维</a></li>
  <li><a href="http://www.imooc.com/t/108955">慕课算法讲师推荐：liuyubobobo</a>
    <h2 id="前端">前端</h2>
  </li>
  <li>Node.js:
    <ol>
      <li><a href="https://coding.imooc.com/class/146.html">Node.js入门到企业Web开发中的应用</a></li>
      <li><a href="https://coding.imooc.com/class/320.html">前端晋升全栈工程师必备课程 Node.js 从零开发web server博客项目</a></li>
    </ol>
  </li>
  <li>小程序：
    <ol>
      <li><a href="https://coding.imooc.com/class/chapter/75.html#Anchor">微信小程序入门与实战</a></li>
    </ol>
  </li>
  <li>Javascript:
    <ol>
      <li><a href="https://coding.imooc.com/class/255.html">Javascript 设计模式系统讲解与应用</a></li>
      <li><a href="https://coding.imooc.com/class/330.html">基于TypeScript从零重构axios</a></li>
    </ol>
  </li>
  <li>HTML/CSS:
    <ol>
      <li><a href="https://coding.imooc.com/class/15.html">Web App用组件方式开发全站</a></li>
      <li><a href="https://coding.imooc.com/class/164.html">全面系统讲解CSS 工作应用+面试一步搞定</a></li>
      <li><a href="https://coding.imooc.com/class/50.html">所向披靡的响应式开发</a></li>
      <li><a href="https://coding.imooc.com/class/115.html">前端JavaScript面试技巧</a>(视情)</li>
      <li><a href="https://coding.imooc.com/class/129.html">前端跳槽面试必备技巧</a>(视情)</li>
    </ol>
  </li>
  <li>React/Vue/Angular:
    <ol>
      <li><a href="https://coding.imooc.com/class/309.html">React源码深度解析 高级前端工程师必备技能</a></li>
      <li><a href="https://coding.imooc.com/class/203.html">Vue2.5开发去哪儿网App 从零基础入门到实战项目</a></li>
    </ol>
  </li>
  <li>Webpack:
    <ol>
      <li><a href="https://coding.imooc.com/class/316.html">从基础到实战	手把手带你掌握新版Webpack4.0</a>
        <h2 id="移动端">移动端</h2>
      </li>
    </ol>
  </li>
  <li><a href="https://coding.imooc.com/class/304.html">新版React Native+Redux打造高质量上线App</a></li>
  <li><a href="https://coding.imooc.com/class/321.html">Flutter从入门到进阶 实战携程网App</a></li>
  <li><a href="https://coding.imooc.com/class/286.html">Socket网络编程进阶与实战</a>
    <h2 id="后端">后端</h2>
  </li>
  <li><a href="https://coding.imooc.com/class/180.html">Google资深工程师深度讲解Go语言</a></li>
</ol>

<h2 id="文章">文章</h2>
<ol>
  <li><a href="http://www.ruanyifeng.com/blog/2014/05/restful_api.html">RESTful API 设计指南</a></li>
  <li><a href="http://www.ruanyifeng.com/blog/2014/05/oauth_2_0.html">理解OAuth 2.0</a></li>
  <li><a href="https://www.jianshu.com/p/62338c038c42">Service Worker</a></li>
  <li><a href="https://www.cnblogs.com/ysocean/category/1289968.html">Nginx详解</a></li>
</ol>

<h1 id="个人web页面构想非静态">个人web页面构想(非静态)</h1>
<ol>
  <li>登录授权隐私内容/非登录</li>
  <li>图片/游记展示</li>
  <li>文档/博客/学习笔记展示</li>
  <li>文档的增/删/改/查</li>
  <li>爱好展示</li>
  <li>访问量统计</li>
  <li>基于jekyll-now的个人博客解决方案
    <ul>
      <li><a href="https://github.com/barryclark/jekyll-now">jekyll-now</a></li>
      <li><a href="http://jekyllcn.com/">jekyll-now 文档</a></li>
      <li><a href="https://github.com/mzlogin/mzlogin.github.io">参考页面</a></li>
      <li><a href="http://jekyllthemes.org/">主题选择</a></li>
    </ul>
  </li>
</ol>

    </article>
    <div class="share">
      <div class="share-component"></div>
    </div>
    <div class="comment">
      

  

  
        <div id="gitalk-container"></div>
        <link rel="stylesheet" href="https://unpkg.com/gitalk/dist/gitalk.css">
        <script src="https://unpkg.com/gitalk/dist/gitalk.min.js"></script>
        <script>
        var gitalk = new Gitalk({
            id: '/2019/12/22/angle-aiqier/',
            clientID: 'bc269064fe241728eb14',
            clientSecret: '0f2e89e4b56f4580e067356a0900c95968284917',
            repo: 'king-hcj.github.io',
            owner: 'king-hcj',
            admin: ['king-hcj'],
            labels: ['gitment'],
            perPage: 50,
        })
        gitalk.render('gitalk-container')
        </script>
  


    </div>
  </div>
  <div class="column one-fourth">
    
<h3>Search</h3>
<div id="site_search">
    <input type="text" id="search_box" placeholder="Search">
</div>

<ul id="search_results"></ul>

<link rel="stylesheet" type="text/css" href="http://localhost:5001/assets/css/modules/sidebar-search.css">
<script src="http://localhost:5001/assets/js/simple-jekyll-search.min.js"></script>
<script src="http://localhost:5001/assets/js/search.js"></script>

<script type="text/javascript">
SimpleJekyllSearch({
    searchInput: document.getElementById('search_box'),
    resultsContainer: document.getElementById('search_results'),
    json: 'http://localhost:5001/assets/search_data.json',
    searchResultTemplate: '<li><a href="{url}" title="{desc}">{title}</a></li>',
    noResultsText: 'No results found',
    limit: 10,
    fuzzy: false,
    exclude: ['Welcome']
})
</script>

    

    
<h3 class="post-directory-title mobile-hidden">Table of Contents</h3>
<div id="post-directory-module" class="mobile-hidden">
  <section class="post-directory">
  <!-- Links that trigger the jumping -->
  <!-- Added by javascript below -->
  <dl></dl>
  </section>
</div>

<script src="http://localhost:5001/assets/js/jquery.toc.js"></script>

  </div>
</div>
</section>
<!-- /section.content -->

    <footer class="container">
        <div class="site-footer" role="contentinfo">
            <div class="copyright left mobile-block">
                    © 2018
                    <span title="Cheney King">Cheney King</span>
                    <a href="javascript:window.scrollTo(0,0)" class="right mobile-visible">TOP</a>
            </div>

            <ul class="site-footer-links right mobile-hidden">
                <li>
                    <a href="javascript:window.scrollTo(0,0)" >TOP</a>
                </li>
            </ul>
            <a href="https://github.com/king-hcj/king-hcj.github.io" target="_blank" aria-label="view source code">
                <span class="mega-octicon octicon-mark-github" title="GitHub"></span>
            </a>
            <ul class="site-footer-links mobile-hidden">
                
                <li>
                    <a href="http://localhost:5001/" title="首页" target="">首页</a>
                </li>
                
                <li>
                    <a href="http://localhost:5001/categories/" title="分类" target="">分类</a>
                </li>
                
                <li>
                    <a href="http://localhost:5001/wiki/" title="维基" target="">维基</a>
                </li>
                
                <li>
                    <a href="http://localhost:5001/links/" title="链接" target="">链接</a>
                </li>
                
                <li>
                    <a href="http://localhost:5001/about/" title="关于" target="">关于</a>
                </li>
                
                <li><a href="http://localhost:5001/feed.xml"><span class="octicon octicon-rss" style="color:orange;"></span></a></li>
            </ul>

        </div>
    </footer>
    <div class="tools-wrapper">
      <a class="gotop" href="#" title="回到顶部"><span class="octicon octicon-arrow-up"></span></a>
    </div>
    <!-- / footer -->
    <script src="http://localhost:5001/assets/vendor/share.js/dist/js/share.min.js"></script>
    <script src="http://localhost:5001/assets/js/geopattern.js"></script>
    <script src="http://localhost:5001/assets/js/prism.js"></script>
    <link rel="stylesheet" href="http://localhost:5001/assets/css/globals/prism.css">
    <script>
      jQuery(document).ready(function($) {
        // geopattern
        $('.geopattern').each(function(){
          $(this).geopattern($(this).data('pattern-id'));
        });
       // hljs.initHighlightingOnLoad();
      });
    </script>

    

    

    

    

    
    <div style="display:none">
      <script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-80669434-1', 'auto');
        ga('send', 'pageview');

      </script>
    </div>
    
</body>
</html>
