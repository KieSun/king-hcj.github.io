---
layout: post
title: 前端ARTS打卡计划（四）
categories: ARTS
description: 前端ARTS打卡计划。
keywords: ARTS, 前端, leetCode
---

&emsp;&emsp;前端 ARTS 打卡计划（四）。

## ARTS 打卡计划

### 第三十一周(2020.11.02-2020.11.08)

- Algorithm：

- Review:

- Tip：

  - `Element.getBoundingClientRect()`：返回元素的大小及其相对于视口的位置。
    > [getBoundingClientRect 方法](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/getBoundingClientRect){:target='_blank'}用来描述一个元素的具体位置，该位置的下面四个属性都是相对于视口左上角的位置而言的。对某一节点执行该方法，它的返回值是一个 DOMRect 类型的对象。这个对象表示一个矩形盒子，它含有：left、top、right 和 bottom 等只读属性。

    ![getBoundingClientRect]({{site.url}}{{site.baseurl}}/images/posts/arts/rect.png?raw=true)

  - 数组 reduce 方法的相关实现

    - reduce 的实现
    ```js
      Array.prototype.customReduce = Array.prototype.reduce || function(callback, initialValue) {
          // 简单异常处理
          if (this === null) {
            throw new TypeError( 'Array.prototype.customReduce ' + 
              'called on null or undefined' )
          }
          if (typeof callback !== 'function') {
            throw new TypeError( callback +
              ' is not a function')
          }
          // 核心实现
          let result = typeof initialValue === 'undefined' ? this[0] : initialValue
          var startIndex = typeof initialValue === 'undefined' ? 1 : 0
          this.slice(startIndex)
              .forEach(function(val, index) {
                  result = callback(result, val, index + startIndex, this)
              })
          return result
      };
      [1,2,3,5,8].customReduce((pre, cur) => pre + cur); // 19
      [1,2,3,5,8].customReduce((pre, cur) => pre + cur, 3); // 22
    ```

    - 按顺序运行 Promise
    ```js
      // runPromiseInSequence 方法将会被一个每一项都返回一个 Promise 的数组调用，并且依次执行数组中的每一个 Promise
      const runPromiseInSequence = (array, value) => array.reduce(
        (promiseChain, currentFunction) => promiseChain.then(currentFunction),
        Promise.resolve(value)
      )
    ```

    - 函数式方法 pipe 的实现
    ```js
    // pipe(f, g, h) 是一个 curry 化函数，它返回一个新的函数，这个新的函数将会完成 (...args) => h(g(f(...args))) 的调用。即 pipe 方法返回的函数会接收一个参数，这个参数传递给 pipe 方法第一个参数，以供其调用。
    const pipe = (...functions) => input => functions.reduce(
        (acc, fn) => fn(acc),
        input
    )
    ```

- Share：

  - [我们不背诵 API，只实现 API](https://gitbook.cn/gitchat/column/5c91c813968b1d64b1e08fde/topic/5c99c8d6ccb24267c1d01dab){:target='_blank'}


